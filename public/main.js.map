{"mappings":"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","sources":["src/carIndices.ts","src/commandCenter.ts","src/offsets.ts","src/Collision.ts","src/CometCompanion.ts","src/screensize.ts","src/HeroCompanion.ts","src/api/ImageIndex.ts","src/defaultCopy.ts","src/BaseDrawer.ts","src/Drawer.ts","src/api/Screen.ts","src/sfc32.ts","src/ForegroundCompanion.ts","src/AlphaColor.ts","src/ExhaustCompanion.ts","src/GameStateCompanion.ts","src/Controller.ts","src/imageLoaders.ts","src/nightImageLoaders.ts","src/dayImageLoaders.ts","src/montageImageLoaders.ts","src/carImageLoaders.ts","src/carImages.ts","src/fonts.ts","src/GuiCompanion.ts","src/main.ts"],"sourcesContent":["enum carIndices {\n    toyota2ndGen4Runner = 0,\n    bmwE36M3 = 1,\n}\n\nexport default carIndices;\n","import carIndices from \"./carIndices\";\n\nconst carIndex = carIndices.toyota2ndGen4Runner;\n// const carIndex = carIndices.bmwE36M3;\n\nexport default carIndex;\n","import carIndices from \"./carIndices\";\n\ninterface Offsets {\n    shape: { x: number, y: number }[],\n    headlights: { x: number, y: number },\n    brakelights: { x: number, y: number },\n    extension: { left: number, right: number },\n    width: number,\n    bottom: number,\n}\n\nconst toyota2ndGen4Runner: Offsets = {\n    shape: [\n        { x: 2, y: 45 },\n        { x: 3, y: 34 },\n        { x: 10, y: 24 },\n        { x: 48, y: 24 },\n        { x: 57, y: 31 },\n        { x: 67, y: 32 },\n        { x: 77, y: 36 },\n        { x: 77, y: 43 },\n    ],\n    headlights: { x: 76, y: 38 },\n    brakelights: { x: 4, y: 39 },\n    extension: { left: 2, right: 77 },\n    width: 77 - 2,\n    bottom: 55,\n}\n\nconst bmwE36M3: Offsets = {\n    shape: [\n        { x: 4, y: 45 },\n        { x: 6, y: 38 },\n        { x: 11, y: 38 },\n        { x: 24, y: 32 },\n        { x: 41, y: 32 },\n        { x: 57, y: 40 },\n        { x: 71, y: 42 },\n        { x: 74, y: 47 },\n    ],\n    headlights: { x: 72, y: 45 },\n    brakelights: { x: 6, y: 42 },\n    extension: { left: 4, right: 74 },\n    width: 74 - 4,\n    bottom: 55,\n}\n\nconst offsets = Object.fromEntries([\n    [carIndices.toyota2ndGen4Runner, toyota2ndGen4Runner],\n    [carIndices.bmwE36M3, bmwE36M3],\n])\n\nexport default offsets;\n","import CollisionApi from './api/CollisionApi';\nimport Circle from './api/Circle';\nimport Hero from './api/Hero';\nimport carIndex from \"./commandCenter\";\nimport offsets from './offsets';\n\n\n// http://www.jeffreythompson.org/collision-detection/poly-circle.php\nconst Collision: CollisionApi = {\n  detectCircleCircleCollision: (c1: Circle, c2: Circle) => {\n    const dist = Math.hypot(c1.loc.x - c2.loc.x, c1.loc.y - c2.loc.y);\n    return dist - c1.radius - c2.radius < 1;\n  },\n\n  detectCircleHeroCollision: (c: Circle, hero: Hero) => {\n    const shape = offsets[carIndex].shape.map(car => {\n      return { x: hero.loc.x + car.x, y: hero.loc.y + car.y }\n    })\n    return Collision.polyCircle(\n      shape,\n      c.loc.x,\n      c.loc.y,\n      c.radius,\n    );\n  },\n\n  detected: (state) => {\n    const loop = (comets: Circle[], hero: Hero): boolean => {\n      const [comet, ...tail] = comets;\n      if (typeof comet === 'undefined') {\n        return false;\n      }\n      return Collision.detectCircleHeroCollision(comet, hero) || loop(tail, hero);\n    }\n\n    return loop(state.comets, state.hero);\n  },\n\n  polyCircle: (vertices, cx, cy, r) => {\n    let next = 0;\n    for (let current = 0; current < vertices.length; current++) {\n      next = current + 1;\n      if (next == vertices.length) next = 0;\n      const collision: boolean = Collision.lineCircle(\n        vertices[current].x,\n        vertices[current].y,\n        vertices[next].x,\n        vertices[next].y,\n        cx,\n        cy,\n        r,\n      );\n      if (collision) return true;\n    }\n\n    return false;\n  },\n\n  lineCircle: (\n    x1: number,\n    y1: number,\n    x2: number,\n    y2: number,\n    cx: number,\n    cy: number,\n    r: number,\n  ) => {\n    const inside1: boolean = Collision.pointCircle(x1, y1, cx, cy, r);\n    const inside2: boolean = Collision.pointCircle(x2, y2, cx, cy, r);\n    if (inside1 || inside2) return true;\n\n    const distX = x1 - x2;\n    const distY = y1 - y2;\n    const len = Math.sqrt(distX * distX + distY * distY);\n    const dot = ((cx - x1) * (x2 - x1) + (cy - y1) * (y2 - y1)) / len ** 2;\n    const closestX = x1 + dot * (x2 - x1);\n    const closestY = y1 + dot * (y2 - y1);\n    const onSegment: boolean = Collision.linePoint(\n      x1,\n      y1,\n      x2,\n      y2,\n      closestX,\n      closestY,\n    );\n    if (!onSegment) return false;\n\n    const distX2 = closestX - cx;\n    const distY2 = closestY - cy;\n    const distance = Math.sqrt(distX2 * distX2 + distY2 * distY2);\n    if (distance <= r) {\n      return true;\n    }\n\n    return false;\n  },\n\n  linePoint: (\n    x1: number,\n    y1: number,\n    x2: number,\n    y2: number,\n    px: number,\n    py: number,\n  ) => {\n    const d1 = Math.hypot(px - x1, py - y1);\n    const d2 = Math.hypot(px - x2, py - y2);\n    const lineLen = Math.hypot(x1 - x2, y1 - y2);\n    const buffer = 0.1; // lower to make more accurate\n    if (d1 + d2 >= lineLen - buffer && d1 + d2 <= lineLen + buffer) {\n      return true;\n    }\n\n    return false;\n  },\n\n  pointCircle: (px: number, py: number, cx: number, cy: number, r: number) => {\n    const distance = Math.hypot(px - cx, py - cy);\n    if (distance <= r) {\n      return true;\n    }\n\n    return false;\n  },\n};\n\nexport default Collision;\n","import CometCompanionApi from './api/CometCompanionApi';\nimport Comet from './api/Comet';\n\n// comet\n//// -> 20%\n\n// rotat up/down\n// reduce image size to w130 h346\n\nconst IMAGE_HEIGHT = 346\n\nconst CometCompanion: CometCompanionApi = {\n  getRandomInt: (max, cometRand) => Math.floor(cometRand() * max),\n\n  generate: (xLimit, yLimit, cometRand) => {\n    const randNum = 1 + CometCompanion.getRandomInt(2, cometRand);\n    return [...Array(randNum).keys()].map(() => CometCompanion.new(xLimit, yLimit, cometRand));\n  },\n\n  new: (xLimit, yLimit, cometRand) => {\n    const x = cometRand() * xLimit;\n    const radius = cometRand() * 10 + 10; // between 10 and 20 (20 - 40d)\n    const y = -radius;\n    const loc = { x, y };\n    const colorRand = cometRand();\n    const color = colorRand <= 0.33 ? '#FFAA00' : colorRand <= 0.66 ? '#FC9303' : '#FF7B00';\n    \n    const dx = -1 * (cometRand() + 0.5);\n    const dy = 10\n\n    const rotation = Math.atan(Math.abs(dx) / dy);\n    \n    return {\n      loc,\n      radius,\n      color,\n      dy,\n      dx,\n      yLimit,\n      rotation\n    };\n  },\n\n  update: (comet) => {\n    const y = comet.loc.y + comet.dy;\n    const x = comet.loc.x + comet.dx;\n    const loc = { ...comet.loc, y, x };\n    return { ...comet, loc };\n  },\n\n  updateAll: (comets) => {\n    const loop: (\n      comets: Comet[],\n      acc: Comet[]\n    ) => Comet[] = (comets, acc) => {\n      const [comet, ...tail] = comets;\n      if (typeof comet === 'undefined') {\n        return acc;\n      }\n      if (comet.loc.y <= comet.yLimit + IMAGE_HEIGHT) {\n        return loop(tail, acc.concat([CometCompanion.update(comet)]));\n      }\n      return loop(tail, acc);\n    };\n    return loop(comets, []);\n  },\n};\n\nexport default CometCompanion;\n","const MAX_WIDTH = 508;\nconst MAX_HEIGHT = 500;\nconst canvasWidth = innerWidth < MAX_WIDTH ? innerWidth : MAX_WIDTH;\nconst canvasHeight = innerHeight < MAX_HEIGHT ? innerHeight : MAX_HEIGHT;\n\nexport {canvasWidth, canvasHeight};\n","import HeroCompanionApi from './api/HeroCompanionApi';\nimport { canvasWidth, canvasHeight } from './screensize';\nimport carIndex from './commandCenter';\nimport offsets from './offsets';\n\nconst JUMP_VELOCITY = 10;\nconst WOBBLE_SPEED = 5;\nconst WOBBLE_SWING = 5;\nconst GRAVITY = -0.8;\nconst LEFT_BUFFER = 5;\nconst BOTTOM_BUFFER = 100;\nconst DRIFT = 0.1;\n\nconst HeroCompanion: HeroCompanionApi = {\n  new: () => ({\n    loc: { x: LEFT_BUFFER - offsets[carIndex].extension.left, y: canvasHeight - offsets[carIndex].bottom - BOTTOM_BUFFER },\n    dx: 0,\n    width: offsets[carIndex].width,\n    color: '#959088',\n    swayCounter: 0,\n    isIdling: true,\n    isBraking: false,\n    drift: 0,\n    distanceTravelled: 0,\n  }),\n\n  update: (hero) => {\n    const prevSway = HeroCompanion.calcSway(hero.swayCounter);\n    const leftThreshold = LEFT_BUFFER;\n    const isAtLeft = hero.loc.x - offsets[carIndex].extension.left <= leftThreshold + prevSway;\n    const isAtRight = (hero.loc.x + offsets[carIndex].extension.right) > canvasWidth;\n    const isBraking = hero.dx < 0;\n    const isIdling = hero.dx == 0;\n    const drift = hero.drift + DRIFT;\n    const distanceTravelled = drift + hero.loc.x / 20;\n\n    if (isAtRight) {\n      const dx = 0;\n      const x = canvasWidth - offsets[carIndex].extension.right;\n      const loc = { ...hero.loc, x };\n      const isIdling = false;\n      const swayCounter = 360;\n      return {\n        ...hero, loc, dx, isIdling, isBraking, drift, distanceTravelled, swayCounter\n      };\n    } if (isAtLeft && (isIdling || isBraking)) {\n      const swayCounter = (hero.swayCounter + 1) % 360;\n      const nextSway = HeroCompanion.calcSway(swayCounter);\n      const dx = 0;\n      const nextX = leftThreshold + nextSway;\n      const x = nextX >= 0 ? nextX - offsets[carIndex].extension.left: 0 - offsets[carIndex].extension.left;\n      const loc = { ...hero.loc, x };\n      const isIdling = true;\n      return {\n        ...hero, loc, dx, swayCounter, isIdling, isBraking, drift, distanceTravelled\n      };\n    } else {\n      // Apply gravity\n      const dx = hero.dx + GRAVITY;\n      const nextX = hero.loc.x + dx;\n      const x = nextX >= 0 ? nextX : 0;\n      const loc = { ...hero.loc, x };\n      const isIdling = false;\n      const swayCounter = 360;\n      return {\n        ...hero, loc, dx, isIdling, isBraking, drift, distanceTravelled, swayCounter\n      };\n    }\n  },\n\n  rev: (hero) => ({ ...hero, dx: JUMP_VELOCITY }),\n\n  calcSway: (swayCounter) => (\n    Math.sin(WOBBLE_SPEED * (Math.PI / 180) * swayCounter) * WOBBLE_SWING\n  ),\n};\n\nexport default HeroCompanion;\n","enum ImageIndex {\n    Background = 0,\n    Comet = 1,\n}\n\nexport default ImageIndex;\n","import { canvasWidth } from './screensize';\n\ninterface DefaultCopy {\n    x: number,\n    color: string,\n    align: CanvasTextAlign,\n}\n\nconst defaultCopy: DefaultCopy = {\n    x: canvasWidth / 2,\n    color: \"#fffce3\",\n    align: \"center\",\n}\n\nexport default defaultCopy;\n","import BaseDrawerApi from \"./api/BaseDrawerApi\";\nimport Copy from \"./api/Copy\";\nimport Drawable from \"./api/Drawable\"\nimport {canvasWidth, canvasHeight} from './screensize';\nimport defaultCopy from './defaultCopy';\n\nconst BaseDrawer: BaseDrawerApi = {\n    drawCircle: (ctx, x, y, radius, color) => {\n        ctx.beginPath();\n        ctx.arc(x, y, radius, 0, Math.PI * 2, false);\n        ctx.fillStyle = color;\n        ctx.fill();\n    },\n\n    drawText: (ctx, copy: Copy, options = {}) => {\n        const finalCopy = {...copy, ...options};\n        const fontFace = 'PressStart';\n        ctx.fillStyle = finalCopy.color;\n        ctx.font = `${finalCopy.fontSize}px ${fontFace}`;\n        ctx.textAlign = finalCopy.align;\n        ctx.fillText(finalCopy.copy, finalCopy.x, finalCopy.y);\n    },\n\n    drawCenteredText: (gui, copy, origin, divHeight, fontSize, options = {}) => {\n        const y = origin + (divHeight / 2) + (fontSize / 2); \n        BaseDrawer.drawText(gui.ctx, {...defaultCopy, copy, y, fontSize }, options);\n    },\n\n    drawDeadCenteredText: (gui, copy, fontSize, options = {}) => {\n        const y = (canvasHeight + fontSize) / 2;\n        BaseDrawer.drawText(gui.ctx, {...defaultCopy, copy, y, fontSize }, options);\n    },\n\n    drawCenteredPhrases: (gui, phrases, origin, divHeight, fontSize, options = {}) => {\n        const baseY = origin + (divHeight / 2) + (fontSize / 2);\n        const lineSpacingMultiplier = 1.1;\n        phrases.forEach((copy, index) => {\n            const y = baseY + index * fontSize * lineSpacingMultiplier;\n            BaseDrawer.drawText(gui.ctx, {...defaultCopy, copy, y, fontSize }, options);\n        });\n    },\n\n    drawStretchedImage: (gui, drawable, options = {}) => {\n        const finalDrawable = {...drawable, ...options }\n        gui.ctx.drawImage(\n            finalDrawable.img,\n            finalDrawable.x,\n            finalDrawable.y,\n            finalDrawable.targetWidth,\n            finalDrawable.targetHeight\n        );\n    },\n\n    drawImage: (gui, img, x, y, options = {}) => {\n        const drawable = {img, x, y, targetWidth: img.width, targetHeight: img.height }\n        BaseDrawer.drawStretchedImage(gui, drawable, options);\n    },\n\n    drawCenteredImage: (gui, img, origin, targetWidth, options = {}) => {\n        const ratio = targetWidth / img.width;\n        const targetHeight = img.height * ratio; // Apply same ration to height\n        const x = (canvasWidth - targetWidth) / 2;\n        const y = origin\n        const drawable = {img, x, y, targetWidth, targetHeight }\n        BaseDrawer.drawStretchedImage(gui, drawable, options);\n    },\n\n    drawDeadCenteredImage: (gui, img, targetWidth, options = {}) => {\n        const ratio = targetWidth / img.width;\n        const targetHeight = img.height * ratio; // Apply same ration to height\n        const origin = (canvasHeight - targetHeight) / 2;\n        BaseDrawer.drawCenteredImage(gui, img, origin, targetWidth, options);\n    },\n\n    drawFullWidthDeadCenteredImage: (gui, img, options = {}) => {\n        BaseDrawer.drawDeadCenteredImage(gui, img, canvasWidth, options);\n    },\n\n    clearScreen: (gui) => {\n        BaseDrawer.eraseAllScreen(gui)\n        BaseDrawer.fillBackground(gui, '#12110b');\n    },\n\n    eraseScreen: (gui) => {\n        gui.ctx.clearRect(0, 0, canvasWidth, canvasHeight);\n    },\n\n    eraseAllScreen: (gui) => {\n        BaseDrawer.eraseScreen(gui, 0, 0, canvasWidth, canvasHeight);\n    },\n\n    fillDefaultBackground: (gui) => {\n        BaseDrawer.fillBackground(gui, '#12110b');\n    },\n\n    fillBackground: (gui, color) => {\n        gui.ctx.fillStyle = color;\n        gui.ctx.fillRect(0, 0, canvasWidth, canvasHeight);\n    },\n}\n\nexport default BaseDrawer;\n","import DrawerApi from './api/DrawerApi';\nimport ImgIndex from './api/ImageIndex';\nimport BaseDrawer from './BaseDrawer';\nimport {canvasWidth, canvasHeight} from './screensize';\nimport defaultCopy from './defaultCopy';\nimport carIndex from './commandCenter';\nimport offsets from './offsets';\n\nconst Drawer: DrawerApi = {\n\n  drawHero: (gui, hero) => {\n    const img = gui.carImages[0];\n    gui.ctx.drawImage(img, hero.loc.x, hero.loc.y);\n    if (hero.isBraking) {\n      const x = hero.loc.x + offsets[carIndex].brakelights.x;\n      const y = hero.loc.y + offsets[carIndex].brakelights.y;\n      const radiusSmall = 10;\n      const radiusLarge = 20;\n      const alphaSmall = 0.35;\n      const alphaLarge = 0.15;\n      const colorSmall = `rgb(255, 0, 0, ${alphaSmall})`\n      const colorLarge = `rgb(255, 0, 0, ${alphaLarge})`\n      BaseDrawer.drawCircle(gui.ctx, x, y, radiusSmall, colorSmall);\n      BaseDrawer.drawCircle(gui.ctx, x, y, radiusLarge, colorLarge);\n    }\n  },\n\n  drawExhaust: (gui, exhaustClouds) => {\n    exhaustClouds.forEach(exhaust => {\n      BaseDrawer.drawCircle(gui, exhaust.loc.x, exhaust.loc.y, exhaust.radius, exhaust.alphaColor.color());\n    });\n  },\n\n  drawComets: (gui, comets) => {\n    comets.forEach(comet => {\n      const cometInImageWidth = 100;\n      const ratio = comet.radius * 2 / cometInImageWidth;\n      const imageWidth = 130;\n      const imageHeight = 346;\n      const img = gui.assets[ImgIndex.Comet];\n      const xAdjustment = imageWidth * ratio * 0.5;\n      const yAdjustment = imageHeight * ratio * 0.80;\n      const imageX = comet.loc.x - xAdjustment;\n      const imageY = comet.loc.y - yAdjustment;\n      const targetWidth = imageWidth * ratio;\n      const targetHeight = imageHeight * ratio;\n\n      // Rotate\n      gui.ctx.translate(comet.loc.x, comet.loc.y);\n      gui.ctx.rotate(comet.rotation);\n      gui.ctx.drawImage(img, imageX - comet.loc.x, imageY - comet.loc.y, targetWidth, targetHeight);\n      gui.ctx.rotate(-comet.rotation);\n      gui.ctx.translate(-comet.loc.x, -comet.loc.y);\n\n      // Drawer.drawCircle(gui.ctx, comet.loc.x, comet.loc.y, comet.radius, 'green');\n    });\n  },\n\n  drawForeground: (gui, foreground) => {\n    const planes = foreground.rear.concat(foreground.mid).concat(foreground.fore);\n    planes.forEach(plane => {\n      const img = gui.nightImages[plane.imageIndex];\n      BaseDrawer.drawImage(gui, img, plane.loc.x, plane.loc.y);\n    })\n  },\n\n  drawHeadlights: (gui, hero, foreground) => {\n    const headlightX = hero.loc.x + offsets[carIndex].headlights.x;\n    const headlightY = hero.loc.y + offsets[carIndex].headlights.y;\n    const headlightXRange = 500;\n    const headlightUpperYRange = headlightY - 250\n    const headlightLowerYRange = headlightY + 70\n\n    gui.ctx.save();\n    gui.ctx.beginPath();\n    gui.ctx.moveTo(headlightX, headlightY);\n    gui.ctx.lineTo(headlightX + headlightXRange, headlightUpperYRange);\n    gui.ctx.lineTo(headlightX + headlightXRange, headlightLowerYRange);\n    gui.ctx.clip();\n\n    foreground.fore.forEach(plane => {\n      const img = gui.dayImages[plane.imageIndex];\n      BaseDrawer.drawImage(gui, img, plane.loc.x, plane.loc.y);\n    })\n\n    gui.ctx.restore();\n  },\n\n  drawBackgroundImage: gui => {\n    const img = gui.assets[ImgIndex.Background];\n    BaseDrawer.drawFullWidthDeadCenteredImage(gui, img);\n  },\n\n  drawDistanceTravelled: (gui, distanceTravelled) => {\n    const align = 'right';\n    const copy = `${distanceTravelled}m`;\n    const fontSize = 25;\n    const x = canvasWidth - 10;\n    const y = fontSize + 10;\n    BaseDrawer.drawText(gui.ctx, {...defaultCopy, copy, x, y, fontSize, align });\n  },\n\n  \n  drawMontage: (gui, montageImages) => {\n    const draw = (i: number) => BaseDrawer.drawFullWidthDeadCenteredImage(gui, montageImages[i]);\n    return draw;\n  },\n\n  drawIntro: (gui) => {\n    const heightOfAThird = canvasHeight * 0.33;\n\n    // Car\n    const img = gui.carImages[1];\n    const targetCarWidth = canvasWidth * 0.9;\n    \n    // Copy\n    const titleCopy = '1994 4Runner';\n\n    // Origins and heights\n    const topBufferOrigin = 0;\n    const topBufferHeight = heightOfAThird * 0.1;\n    const titleOrigin = topBufferOrigin + topBufferHeight;\n    const titleHeight = heightOfAThird - topBufferHeight;\n    const carOrigin = titleOrigin + titleHeight;\n\n    // Font sizes\n    const titleFontSize = titleHeight * 0.2;\n    \n    // Clear canvas\n    BaseDrawer.clearScreen(gui);\n\n    // Draw car\n    BaseDrawer.drawCenteredImage(gui, img, carOrigin, targetCarWidth);\n    BaseDrawer.drawCenteredText(gui, titleCopy, titleOrigin, titleHeight, titleFontSize);\n  },\n\n  getGameOverDrawers: (gui, score) => {\n    const fontFace = 'PressStart';\n    const heightOfAThird = canvasHeight * 0.33;\n\n    // Car\n    const img = gui.carImages[1];\n    \n    // Origins and heights\n    // Car\n    const carOrigin = (canvasHeight - img.height) / 2;\n    const carHeight = img.height;\n\n    // RIP\n    const topBufferOrigin = 0;\n    const topBufferHeight = heightOfAThird * 0.1;\n    const ripOrigin = topBufferOrigin + topBufferHeight;\n    const ripHeight = carOrigin - ripOrigin;\n    \n    // Score\n    const scoreOrigin = carOrigin + carHeight;\n    const scoreHeight = 0.5 * (canvasHeight - scoreOrigin);\n\n    // Ok\n    const startOrigin = scoreOrigin + scoreHeight;\n    const startHeight = canvasHeight - startOrigin;\n\n    // Font sizes\n    const ripFontSize = ripHeight * 0.9;\n    const scoreFontSize = scoreHeight * 0.20;\n\n    // Font\n    const scoreFont = `${scoreFontSize}px ${fontFace}`;\n\n    // Copy\n    const ripCopy = `RIP`;\n    const scoreCopy = `You were killed by flying molten lava after travelling ${score}m`\n    const scorePhrases = Drawer.breakCopyIntoPhrases(gui.ctx, scoreCopy, scoreFont, canvasWidth * 0.75);\n\n    const drawRip = () => BaseDrawer.drawCenteredText(gui, ripCopy, ripOrigin, ripHeight, ripFontSize);\n    const drawCar = () => BaseDrawer.drawCenteredImage(gui, img, carOrigin, img.width);\n    const drawScore = () => BaseDrawer.drawCenteredPhrases(gui, scorePhrases, scoreOrigin, scoreHeight, scoreFontSize);\n    return [drawRip, drawCar, drawScore, startOrigin, startHeight];   \n  },\n\n  breakCopyIntoPhrases: (\n    ctx: CanvasRenderingContext2D,\n    copy: string,\n    font: string,\n    width: number\n  ): string[] => {\n    ctx.font = font\n    const space = \" \"\n    const phraseLimit = width;\n    const loop = (words: string[], phrase: string[], phrases: string[]): string[] => {\n      const [word, ...tail] = words;\n      if (typeof word === 'undefined') {\n        return phrases.concat([phrase.join(space)]);\n      }\n      const newPhrase = phrase.concat([word]);\n      if (ctx.measureText(newPhrase.join(space)).width < phraseLimit) {\n        return loop(tail, newPhrase, phrases)\n      }\n      return loop(tail, [], phrases.concat([newPhrase.join(space)]));\n    }\n    return loop(copy.split(space), [], [])\n  }\n};\n\n\n\nexport default Drawer;\n","enum Screen {\n  Locked,\n  ClickToStart,\n  Playing,\n}\n\nexport default Screen;\n","const sfc32 = (seed: number) => {\n    // Pad seed with dummy data\n    let a = 0x9E3779B9;\n    let b = 0x243F6A88;\n    let c = 0xB7E15162;\n    const rng = () => {\n        a >>>= 0; b >>>= 0; c >>>= 0; seed >>>= 0; \n        let t = (a + b) | 0;\n        a = b ^ b >>> 9;\n        b = c + (c << 3) | 0;\n        c = (c << 21 | c >>> 11);\n        seed = seed + 1 | 0;\n        t = t + seed | 0;\n        c = c + t | 0;\n        return (t >>> 0) / 4294967296;\n    }\n    // Advance the RNG a few times\n    for (let i = 0; i < 15; i++) rng();\n    return rng;\n}\n\nexport default sfc32;\n","import ForegroundCompanionApi from './api/ForegroundCompanionApi';\nimport Plane from './api/Plane';\nimport { canvasHeight } from './screensize';\n\nconst SPEED = -5;\nconst WIDTH = 762;\nconst HEIGHT = 375;\nconst MID_OFFSET = 25;\nconst REAR_OFFSET = 50;\nconst TOP_BUFFER = -50; // 20\n\n// day\n// reszie from 2036 -> 1016\n// size 75%\n\n// night\n// size 75%\n// brightness -100\n// saturation 80\n\n// background\n// brightnes -15\n\nconst ForegroundCompanion: ForegroundCompanionApi = {\n  new: () => {\n    const defaultImageIndex = 0;\n    const forePlane = { loc: { x: 0, y: canvasHeight - HEIGHT + TOP_BUFFER }, imageIndex: defaultImageIndex };\n    const midPlane = { loc: { x: 0, y: canvasHeight - HEIGHT + TOP_BUFFER - MID_OFFSET }, imageIndex: defaultImageIndex };\n    const rearPlane = { loc: { x: 0, y: canvasHeight - HEIGHT + TOP_BUFFER - REAR_OFFSET }, imageIndex: defaultImageIndex };\n    return {\n      fore: [forePlane, {...forePlane, loc: {...forePlane.loc, x: WIDTH }}],\n      mid: [midPlane, {...midPlane, loc: {...midPlane.loc, x: WIDTH }}],\n      rear: [rearPlane, {...rearPlane, loc: {...rearPlane.loc, x: WIDTH }}],\n    };\n  },\n\n  update: (foreground) => {\n    const loop: (\n      planes: Plane[],\n      acc: Plane[],\n      speed: number,\n      getImageIndex: () => number,\n    ) => Plane[] = (planes, acc, speed) => {\n      const [plane, ...tail] = planes;\n      if (typeof plane === 'undefined') {\n        return acc;\n      }\n      const nextX = plane.loc.x + speed;\n      if (nextX > -WIDTH) {\n        const loc = {...plane.loc, x: nextX };\n        return loop(tail, acc.concat([{...plane, loc }]), speed, getImageIndex);\n      }\n\n      const imageIndex = getImageIndex();\n      const loc = {...plane.loc, x: nextX + (2 * WIDTH) };\n      return loop(tail, acc.concat([{...plane, imageIndex, loc }]), speed, getImageIndex);\n    };\n\n    const fireThreshold = 0.6\n    const getImageIndex: () => number = () => Math.random() > fireThreshold ? 1 + Math.floor(Math.random() * 7) : 0;\n    const getDefaultImageIndex: () => number = () => 0;\n\n    return {\n      fore: loop(foreground.fore, [], SPEED, getImageIndex),\n      mid: loop(foreground.mid, [], SPEED * 0.5, getDefaultImageIndex),\n      rear: loop(foreground.rear, [], SPEED * 0.25, getDefaultImageIndex),\n    };\n  },\n};\n\nexport default ForegroundCompanion;\n","class AlphaColor {\n    r: number;\n    g: number;\n    b: number;\n    alpha: number;\n    constructor(r: number, g: number, b: number, alpha: number) {\n        this.r = r\n        this.g = g\n        this.b = b\n        this.alpha = alpha\n    }\n\n    color = () => `rgb(${this.r}, ${this.g}, ${this.b}, ${this.alpha})`;\n}\n\nexport default AlphaColor;\n","import ExhaustCompanionApi from './api/ExhaustCompanionApi';\nimport AlphaColor from './AlphaColor';\n\nconst R = 100;\nconst G = 150;\nconst B = 200;\nconst REV_RADIUS = 25;\nconst HIGH_EXHAUST_DISPLAY_THRESHOLD = 0.01;\nconst IDLE_RADIUS = 10;\nconst LOW_EXHAUST_DISPLAY_THRESHOLD = 0.75;\nconst MAX_AGE = 100;\nconst ALPHA_MULTIPLIER = 0.00133;\nconst COMET_SPEED = -15;\nconst COMET_EXHAUST_DRIFT = 1;\nconst EXHAUST_SPEED = -10;\nconst GROW_RATE = 1;\n\nconst ExhaustCompanion: ExhaustCompanionApi = {\n  new: (loc, radius, dx, dy, alphaColor) => ({\n    loc,\n    radius,\n    alphaColor,\n    dx,\n    dy,\n    age: 0,\n  }),\n\n  maybeNewCarExhaust: (loc, isIdling) => {\n    const age = 0;\n    const alpha = ExhaustCompanion.calcAlpha(age);\n    const alphaColor = new AlphaColor(R, G, B, alpha)\n    const maybeRadius = isIdling ? ExhaustCompanion.lowLikelihoodOfSmoke(): ExhaustCompanion.highLikelihoodOfSmoke();\n    const dy = Math.random() - 0.5;\n    return maybeRadius.map((radius) => ExhaustCompanion.new(loc, radius, EXHAUST_SPEED, dy, alphaColor));\n  },\n\n  maybeNewCometExhaust: (loc) => {\n    const age = 0;\n    const alpha = ExhaustCompanion.calcAlpha(age);\n    const alphaColor = new AlphaColor(R, G, B, alpha)\n    const maybeRadius = ExhaustCompanion.highLikelihoodOfSmoke();\n    return maybeRadius.map(radius => ExhaustCompanion.new(loc, radius, COMET_EXHAUST_DRIFT, COMET_SPEED, alphaColor));\n  },\n\n  update: (exhaust) => {\n    const x = exhaust.loc.x + exhaust.dx;\n    const y = exhaust.loc.y + exhaust.dy;\n    const loc = { ...exhaust.loc, x, y };\n    const age = exhaust.age + 1;\n    const alpha = ExhaustCompanion.calcAlpha(age);\n    const alphaColor = new AlphaColor(exhaust.alphaColor.r, exhaust.alphaColor.g, exhaust.alphaColor.b, alpha)\n    const radius = exhaust.radius + GROW_RATE;\n    return {\n      ...exhaust, loc, age, alphaColor, radius,\n    };\n  },\n\n  updateAll: (exhaustClouds) => {\n      return exhaustClouds.flatMap(exhaust => {\n        const agePred = exhaust.age > MAX_AGE;\n        const xPred = exhaust.loc.x + exhaust.radius < 0;\n        const yPred = exhaust.loc.y + exhaust.radius < 0;\n        return agePred || xPred || yPred ? [] : [ExhaustCompanion.update(exhaust)]\n      });\n  },\n\n  highLikelihoodOfSmoke: () => {\n    return Math.random() > HIGH_EXHAUST_DISPLAY_THRESHOLD\n      ? [REV_RADIUS * Math.random()]\n      : [];\n  },\n\n  lowLikelihoodOfSmoke: () => {\n    return Math.random() > LOW_EXHAUST_DISPLAY_THRESHOLD\n      ? [IDLE_RADIUS * Math.random()]\n      : [];\n  },\n\n  calcAlpha: (age: number) => (MAX_AGE - age * 4) * ALPHA_MULTIPLIER,\n};\n\nexport default ExhaustCompanion;\n","import GameState from \"./api/GameState\";\nimport HeroCompanion from './HeroCompanion';\nimport getRng from  './sfc32';\nimport ForegroundCompanion from './ForegroundCompanion';\nimport ExhaustCompanion from './ExhaustCompanion';\nimport CometActions from './CometCompanion';\nimport Setter from './api/Setter';\nimport offsets from './offsets';\nimport carIndex from './commandCenter';\n\ninterface GameStateCompanion {\n    new: () => GameState;\n    update: (state: GameState, setState: Setter<GameState>) => void;\n}\n\nconst gamestateCompanion: GameStateCompanion  = {\n    new: () => ({\n        hero: HeroCompanion.new(),\n        carExhaust: [],\n        cometExhaust: [],\n        comets: [],\n        foreground: ForegroundCompanion.new(),\n        cometRand: getRng(0xDEADBEEF),\n    }),\n\n    update: (state: GameState, setState: Setter<GameState>) => {\n        const hero = HeroCompanion.update(state.hero);\n        \n        const comets = CometActions.updateAll(state.comets);\n        const newCometExhaust = comets.flatMap(comet => ExhaustCompanion.maybeNewCometExhaust(comet.loc));\n        const cometExhaust = ExhaustCompanion.updateAll(state.cometExhaust).concat(newCometExhaust)\n        const newCarExhaust = ExhaustCompanion.maybeNewCarExhaust(\n          { x: state.hero.loc.x + offsets[carIndex].brakelights.x, y: state.hero.loc.y + offsets[carIndex].brakelights.y },\n          state.hero.isIdling,\n        );\n        const carExhaust = ExhaustCompanion.updateAll(state.carExhaust).concat(newCarExhaust)    \n        const foreground = ForegroundCompanion.update(state.foreground);\n        setState({\n          ...state, hero, carExhaust, cometExhaust, comets, foreground,\n        });\n    },\n}\n\nexport default gamestateCompanion;\n","import GameState from './api/GameState';\nimport CometActions from './CometCompanion';\nimport HeroCompanion from './HeroCompanion';\nimport Gui from './api/Gui';\nimport Drawer from './Drawer';\nimport BaseDrawer from './BaseDrawer';\nimport Screen from './api/Screen';\nimport Setter from './api/Setter';\nimport {canvasWidth, canvasHeight} from './screensize';\nimport GamestateCompanion from  './GameStateCompanion';\n\nconst Controller = {\n\n  getMontageDrawers: (\n    gui: Gui,\n    montageImages: HTMLImageElement[],\n  ) => {\n    const draw = Drawer.drawMontage(gui, montageImages);\n    const imgHeight = montageImages[0].height;\n    \n    const showProduction = async (): Promise<void>  => {\n      BaseDrawer.clearScreen(gui);\n      const copy = \"joey stockermans 2022\"\n      const origin = canvasHeight * 0.33;\n      const divHeight = canvasHeight * 0.33;\n      const fontSize = divHeight * 0.12;    \n      BaseDrawer.drawCenteredText(gui, copy, origin, divHeight, fontSize);\n      showSkip();\n      await delay(2);\n    };\n\n    const showSkip = (): void => {\n      const copy = \"skip\";\n      const imageOrigin = (canvasHeight - imgHeight) / 2;\n      const skipOrigin = imageOrigin + imgHeight;\n      const divHeight = canvasHeight - skipOrigin;\n      const fontSize = divHeight * 0.12;\n      BaseDrawer.drawCenteredText(gui, copy, skipOrigin, divHeight, fontSize, {\"color\": \"#929082\"});\n    };\n\n    const showTitle = async (): Promise<void>  => {\n      BaseDrawer.clearScreen(gui);\n      await delay(1);\n\n      const copy = \"Escape from Las Palmas\"\n      const origin = canvasHeight * 0.33;\n      const divHeight = canvasHeight * 0.33;\n      const fontSize = divHeight * 0.12;    \n      BaseDrawer.drawCenteredText(gui, copy, origin, divHeight, fontSize);\n      await delay(2);\n    };\n\n    const showStart = async (): Promise<void>  => {\n      const copy = \"Press start\"\n      const origin = canvasHeight * 0.66;\n      const divHeight = canvasHeight * 0.33;\n      const fontSize = divHeight * 0.12;\n      BaseDrawer.drawCenteredText(gui, copy, origin, divHeight, fontSize);\n    };\n\n    const nextScene = async (i: number): Promise<void> => {\n      BaseDrawer.clearScreen(gui);\n      showSkip();\n      await delay(1);\n      draw(i);\n      await delay(2);\n    };\n\n    return [\n      showProduction,\n      () => nextScene(0),\n      () => nextScene(1),\n      () => nextScene(2),\n      () => nextScene(3),\n      () => nextScene(4),\n      () => nextScene(5),\n      () => nextScene(6),\n      showTitle,\n      showStart,\n    ]\n  },\n\n  drawGameOver: (\n    setScreen: Setter<Screen>,\n    gui: Gui,\n    distanceTravelled: number,\n  ) => {\n    const [\n      drawRip,\n      drawCar,\n      drawScore,\n      startOrigin,\n      startHeight\n    ] = Drawer.getGameOverDrawers(gui, Math.floor(distanceTravelled));\n\n    const play = async () => {\n      await delay(1);\n      BaseDrawer.clearScreen(gui);\n      drawRip();\n      drawCar();\n      drawScore();\n\n      await delay(1);\n      setScreen(Screen.ClickToStart);\n      const copy = \"Ok\";\n      const startFontSize = startHeight * 0.2;\n      BaseDrawer.drawCenteredText(gui, copy, startOrigin, startHeight, startFontSize);\n    }\n\n    play(); \n  },\n\n  draw: (\n    state: GameState,\n    gui: Gui\n  ) => {\n    BaseDrawer.clearScreen(gui);\n    Drawer.drawBackgroundImage(gui);\n    Drawer.drawForeground(gui, state.foreground);\n    Drawer.drawDistanceTravelled(gui, Math.floor(state.hero.distanceTravelled));\n    Drawer.drawHero(gui, state.hero);\n    Drawer.drawHeadlights(gui, state.hero, state.foreground);\n    Drawer.drawExhaust(gui.ctx, state.carExhaust.concat(state.cometExhaust));\n    Drawer.drawComets(gui, state.comets);\n  },\n\n  startNewGame: (\n    setState: Setter<GameState>,\n    setScreen: Setter<Screen>\n  ) => {\n    const state = GamestateCompanion.new();\n    setState(state);\n    setScreen(Screen.Playing)\n  },\n\n  revEngine: (\n    state: GameState,\n    setState: Setter<GameState>\n  ) => {\n    const hero = HeroCompanion.rev(state.hero);\n    setState({...state, hero})\n  },\n\n  addComets: (\n    state: GameState,\n    setState: Setter<GameState>\n  ) => {\n    const comets = state.comets.concat(\n      CometActions.generate(canvasWidth, canvasHeight, state.cometRand),\n    );\n    setState({ ...state, comets });\n  },\n\n  addCometTime: (frameId: number, pausedFrameId: number) => {\n    return (frameId - pausedFrameId >= 200) && (frameId % 125 === 0);\n  }\n};\n\nconst delay = (seconds: number) => new Promise((resolve) => setTimeout(resolve, seconds * 1000))\n\nexport default Controller;\n","const imageUrls: string[] = [\n  '../assets/misc/background.png',\n  '../assets/misc/comet.png',\n];\n\nconst imageLoaders = imageUrls.map(url => new Promise<HTMLImageElement>(resolve => {\n  const img = new Image();\n  img.onload = () => resolve(img);\n  img.src = url;\n}));\n\nconst loadImages = Promise.all(imageLoaders);\n\nexport default loadImages;\n","const nightImageUrls: string[] = [\n    '../assets/foreground/night.png',\n    '../assets/foreground/night_v1.png',\n    '../assets/foreground/night_v2.png',\n    '../assets/foreground/night_v3.png',\n    '../assets/foreground/night_v4.png',\n    '../assets/foreground/night_v5.png',\n    '../assets/foreground/night_v6.png',\n    '../assets/foreground/night_v7.png',\n];\n  \n  const nightImageLoaders = nightImageUrls.map(url => new Promise<HTMLImageElement>(resolve => {\n    const img = new Image();\n    img.onload = () => resolve(img);\n    img.src = url;\n  }));\n  \n  const loadNightImages = Promise.all(nightImageLoaders);\n  \n  export default loadNightImages;\n  ","const dayImageUrls: string[] = [\n    '../assets/foreground/day.png',\n    '../assets/foreground/day_v1.png',\n    '../assets/foreground/day_v2.png',\n    '../assets/foreground/day_v3.png',\n    '../assets/foreground/day_v4.png',\n    '../assets/foreground/day_v5.png',\n    '../assets/foreground/day_v6.png',\n    '../assets/foreground/day_v7.png',\n];\n  \n  const dayImageLoaders = dayImageUrls.map(url => new Promise<HTMLImageElement>(resolve => {\n    const img = new Image();\n    img.onload = () => resolve(img);\n    img.src = url;\n  }));\n  \n  const loadDayImages = Promise.all(dayImageLoaders);\n  \n  export default loadDayImages;\n  ","const montageImageUrls: string[] = [\n    '../assets/montage/01.png',\n    '../assets/montage/02.png',\n    '../assets/montage/03.png',\n    '../assets/montage/04.png',\n    '../assets/montage/05.png',\n    '../assets/montage/06.png',\n    '../assets/montage/07.png',\n];\n  \n  const montageImageLoaders = montageImageUrls.map(url => new Promise<HTMLImageElement>(resolve => {\n    const img = new Image();\n    img.onload = () => resolve(img);\n    img.src = url;\n  }));\n  \n  const loadMontageImages = Promise.all(montageImageLoaders);\n  \n  export default loadMontageImages;\n  ","import carImages from \"./carImages\";\nimport carIndex from \"./commandCenter\";\n\nconst carImageUrls: string[] = carImages[carIndex];\n\nconst carImageLoaders = carImageUrls.map(url => new Promise<HTMLImageElement>(resolve => {\n  const img = new Image();\n  img.onload = () => resolve(img);\n  img.src = url;\n}));\n\nconst loadCarImages = Promise.all(carImageLoaders);\n\nexport default loadCarImages;\n","import carIndices from \"./carIndices\";\n\nconst toyota2ndGen4Runner = [\n  '../assets/car/toyota2ndGen4Runner/small.png',\n  '../assets/car/toyota2ndGen4Runner/large.png',\n]\n\nconst bmwE36M3 = [\n  '../assets/car/bmwE36M3/small.png',\n  '../assets/car/bmwE36M3/large.png',\n]\n\nconst carImages = Object.fromEntries([\n  [carIndices.toyota2ndGen4Runner, toyota2ndGen4Runner],\n  [carIndices.bmwE36M3, bmwE36M3],\n])\n\nexport default carImages;\n","interface Fonts {\n  name: string;\n  url: string;\n}\n\nconst fontResources: Fonts[] = [\n  { name: 'PressStart', url: 'url(../assets/fonts/PressStart2P-Regular.ttf)' },\n];\n\nconst fontLoaders = fontResources.map(resource => {\n  const font = new FontFace(resource.name, resource.url);\n  return font.load();\n});\n\nconst loadFont = Promise.all(fontLoaders);\n\nexport default loadFont;\n","import Gui from \"./api/Gui\";\nimport {canvasWidth, canvasHeight} from './screensize';\n\ninterface GuiCompanion {\n    new: (\n        canvas: HTMLCanvasElement,\n        assets: HTMLImageElement[],\n        nightImages: HTMLImageElement[],\n        dayImages: HTMLImageElement[],\n        carImages: HTMLImageElement[],\n        fonts: FontFace[],\n    ) => Gui\n}\n\nconst checkContext = (maybeCtx: CanvasRenderingContext2D | null) => {\n    if (!maybeCtx) {\n        throw new Error('Failed to get 2D context');\n    } else {\n        return maybeCtx;\n    }\n};\n\nconst guiCompanion: GuiCompanion = {\n    new: (\n        canvas,\n        assets,\n        nightImages,\n        dayImages,\n        carImages,\n        fonts,\n    ) => {\n        canvas.width = canvasWidth;\n        canvas.height = canvasHeight;\n        document.fonts.add(fonts[0]);\n        const ctx = checkContext(canvas.getContext('2d'));\n        return {\n            canvas,\n            ctx,\n            assets,\n            nightImages,\n            dayImages,\n            carImages,\n            fonts,\n        };\n    },\n}\n\nexport default guiCompanion;\n","import Collision from './Collision';\nimport Controller from './Controller';\nimport Gui from './api/Gui';\nimport loadImages from './imageLoaders';\nimport loadNightImages from './nightImageLoaders';\nimport loadDayImages from './dayImageLoaders';\nimport loadMontageImages from './montageImageLoaders';\nimport loadCarImages from './carImageLoaders';\nimport loadFonts from './fonts';\nimport Screen from './api/Screen';\nimport GameState from './api/GameState';\nimport Setter from './api/Setter';\nimport GuiCompanion from  './GuiCompanion';\nimport GameStateCompanion from  './GameStateCompanion';\n\nconst canvas = <HTMLCanvasElement>document.getElementById('game');\nlet state: GameState;\nconst setState: Setter<GameState> = s => { state = s }\nlet gui: Gui;\nlet screen = Screen.ClickToStart; \nconst setScreen: Setter<Screen> = s => { screen = s}\nlet pausedFrameId = 0;\n\nloadImages.then(images => {\n  loadCarImages.then(carImages => {\n    loadNightImages.then(nightImages => {\n      loadDayImages.then(dayImages => {\n        loadMontageImages.then(montageImages => {\n          loadFonts.then(fonts => {\n            gui = GuiCompanion.new(canvas, images, nightImages, dayImages, carImages, fonts);\n            const asyncs = Controller.getMontageDrawers(gui, montageImages);\n            playMontage(asyncs);\n          });\n        });\n      });\n    });\n  });\n});\n\nconst animate = () => {\n  const frameId = requestAnimationFrame(animate);\n  // Add comets\n  if (Controller.addCometTime(frameId, pausedFrameId)) { Controller.addComets(state, setState) }\n\n  // Update\n  GameStateCompanion.update(state, setState);\n\n  // Draw\n  Controller.draw(state, gui);\n\n  // Collision detection\n  if (Collision.detected(state)) {\n    cancelAnimationFrame(frameId);\n    pausedFrameId = frameId;\n    setScreen(Screen.Locked);\n    Controller.drawGameOver(setScreen, gui, state.hero.distanceTravelled);\n  }\n};\n\nconst playMontage: (\n  ps: (() => Promise<void>)[],\n) => void = ps => {\n  const [p, ...tail] = ps;\n  if (typeof p === 'undefined') {\n    return;\n  }\n  p().then(() => {\n    if (screen != Screen.Playing) {\n      playMontage(tail);\n    }\n  });\n};\n\ncanvas.addEventListener('click', () => {\n  switch (screen) {\n    case Screen.Locked:\n      break;\n    case Screen.ClickToStart:\n      Controller.startNewGame(setState, setScreen);\n      animate();\n      break;\n    case Screen.Playing:\n      Controller.revEngine(state, setState)\n      break;\n    default:\n      break;\n  }\n});\n"],"names":["carIndices","$b9be93900e859a2e$var$carIndices","$b9be93900e859a2e$export$2e2bcd8739ae039","$f108b89f71ceafee$export$2e2bcd8739ae039","toyota2ndGen4Runner","$ef042853722f529e$export$2e2bcd8739ae039","Object","fromEntries","shape","x","y","headlights","brakelights","extension","left","right","width","bottom","bmwE36M3","$6436e8aa2a19a231$var$Collision","detectCircleCircleCollision","c1","c2","Math","hypot","loc","radius","detectCircleHeroCollision","c","hero","map","car","polyCircle","detected","state","loop","comets","comet","tail","vertices","cx","cy","r","next","current","length","lineCircle","x1","y1","x2","y2","inside1","pointCircle","inside2","distX","distY","dot","sqrt","closestX","closestY","linePoint","distX2","distY2","px","py","d1","d2","lineLen","$6436e8aa2a19a231$export$2e2bcd8739ae039","$3027c615ae4803da$var$CometCompanion","getRandomInt","max","cometRand","floor","generate","xLimit","yLimit","randNum","Array","keys","new","colorRand","color","dx","atan","abs","update","dy","updateAll","comets1","acc","concat","$3027c615ae4803da$export$2e2bcd8739ae039","$92cc96bfe19c8357$export$1cd840e6ecaab774","innerWidth","$92cc96bfe19c8357$export$3d795bc15e02aca","innerHeight","$6122e3667ba33eb6$var$HeroCompanion","swayCounter","isIdling","isBraking","drift","distanceTravelled","prevSway","calcSway","isAtLeft","isAtRight","nextX","rev","sin","PI","$6122e3667ba33eb6$export$2e2bcd8739ae039","ImageIndex","$0118cd8be57b0afd$var$ImageIndex","$0118cd8be57b0afd$export$2e2bcd8739ae039","$39489f512451ef95$export$2e2bcd8739ae039","align","$5b1e1ce4b3dd8839$var$BaseDrawer","drawCircle","ctx","beginPath","arc","fillStyle","fill","drawText","copy","options","finalCopy","font","fontSize","textAlign","fillText","drawCenteredText","gui","origin","divHeight","drawDeadCenteredText","drawCenteredPhrases","phrases","baseY","forEach","index","drawStretchedImage","drawable","finalDrawable","drawImage","img","targetWidth","targetHeight","height","drawCenteredImage","ratio","drawDeadCenteredImage","drawFullWidthDeadCenteredImage","clearScreen","eraseAllScreen","fillBackground","eraseScreen","clearRect","fillDefaultBackground","fillRect","$5b1e1ce4b3dd8839$export$2e2bcd8739ae039","$34194c614ee058c8$var$Drawer","drawHero","carImages","radiusSmall","radiusLarge","colorSmall","colorLarge","drawExhaust","exhaustClouds","exhaust","alphaColor","drawComets","assets","Comet","xAdjustment","yAdjustment","imageX","imageY","translate","rotate","rotation","drawForeground","foreground","rear","mid","fore","plane","nightImages","imageIndex","drawHeadlights","headlightX","headlightY","headlightUpperYRange","headlightLowerYRange","save","moveTo","lineTo","clip","dayImages","restore","drawBackgroundImage","Background","drawDistanceTravelled","drawMontage","montageImages","i","drawIntro","heightOfAThird","targetCarWidth","topBufferHeight","titleOrigin","titleHeight","carOrigin","titleFontSize","getGameOverDrawers","score","carHeight","ripOrigin","ripHeight","scoreOrigin","scoreHeight","startOrigin","startHeight","ripFontSize","scoreFontSize","scoreFont","scoreCopy","scorePhrases","breakCopyIntoPhrases","space","phraseLimit","words","phrase","word","join","newPhrase","measureText","split","$34194c614ee058c8$export$2e2bcd8739ae039","Screen","$312a81804dbe3401$var$Screen","$312a81804dbe3401$export$2e2bcd8739ae039","$1840617e2ff0c9b3$export$2e2bcd8739ae039","seed","a","b","rng","t","$d193a17fcc18dbef$var$WIDTH","$d193a17fcc18dbef$export$2e2bcd8739ae039","forePlane","midPlane","rearPlane","planes","speed","getImageIndex","random","getDefaultImageIndex","$d193a17fcc18dbef$var$SPEED","$6bf77d510865ad92$export$2e2bcd8739ae039","g","alpha","this","$caa98c99ef0d850f$var$ExhaustCompanion","age","maybeNewCarExhaust","calcAlpha","maybeRadius","lowLikelihoodOfSmoke","highLikelihoodOfSmoke","maybeNewCometExhaust","flatMap","agePred","xPred","yPred","$caa98c99ef0d850f$export$2e2bcd8739ae039","$c3c940ece9bca093$export$2e2bcd8739ae039","carExhaust","cometExhaust","setState","newCometExhaust","newCarExhaust","$c9f980f78d8c3e40$var$Controller","getMontageDrawers","draw","imgHeight","showSkip","skipOrigin","nextScene","async","$c9f980f78d8c3e40$var$delay","drawGameOver","setScreen","drawRip","drawCar","drawScore","ClickToStart","startFontSize","play","startNewGame","Playing","revEngine","addComets","addCometTime","frameId","pausedFrameId","seconds","Promise","resolve","setTimeout","$c9f980f78d8c3e40$export$2e2bcd8739ae039","$d1ca06bb63c073b9$var$imageLoaders","url","Image","onload","src","$d1ca06bb63c073b9$export$2e2bcd8739ae039","all","$ed3b2262fc1ea10b$var$nightImageLoaders","$ed3b2262fc1ea10b$export$2e2bcd8739ae039","$f1d9761cf0094674$var$dayImageLoaders","$f1d9761cf0094674$export$2e2bcd8739ae039","$749576ab5cade8c4$var$montageImageLoaders","$749576ab5cade8c4$export$2e2bcd8739ae039","$be46ffb74a23c2d3$var$carImageLoaders","$be46ffb74a23c2d3$export$2e2bcd8739ae039","$8518b898d332a3fa$var$fontLoaders","name","resource","FontFace","load","$8518b898d332a3fa$export$2e2bcd8739ae039","$4fa05c6f1828bf8e$export$2e2bcd8739ae039","canvas","fonts","document","add","maybeCtx","Error","$4fa05c6f1828bf8e$var$checkContext","getContext","$485fa4820b9023b5$var$canvas","getElementById","$485fa4820b9023b5$var$state","$485fa4820b9023b5$var$setState","s","$485fa4820b9023b5$var$gui","$485fa4820b9023b5$var$screen","$485fa4820b9023b5$var$setScreen","$485fa4820b9023b5$var$pausedFrameId","then","images","asyncs","$485fa4820b9023b5$var$playMontage","$485fa4820b9023b5$var$animate","requestAnimationFrame","cancelAnimationFrame","Locked","ps","p","addEventListener"],"version":3,"file":"main.js.map"}